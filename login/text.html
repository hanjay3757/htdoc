<!-- 
  ì´ íŒŒì¼ì€ JWT ë¡œê·¸ì¸ ì‹œìŠ¤í…œ ì½”ë“œ ë¦¬ë·° ë¬¸ì„œì…ë‹ˆë‹¤.
  ê° ë¶€ë¶„ë³„ë¡œ ì£¼ì„ì„ ì¶”ê°€í•˜ì—¬ ì„¤ëª…í•©ë‹ˆë‹¤.
-->
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JWT ë¡œê·¸ì¸ ì‹œìŠ¤í…œ ì½”ë“œ ë¦¬ë·°</title>
    <style>
      /* ì „ì²´ ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™” */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      /* ë°”ë”” ë°°ê²½ ë° í°íŠ¸ ì„¤ì • */
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.7;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      /* ë©”ì¸ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
      .container {
        max-width: 1400px;
        margin: 0 auto;
        background: white;
        border-radius: 15px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      /* í—¤ë” ì˜ì—­ ìŠ¤íƒ€ì¼ */
      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.2em;
        opacity: 0.9;
      }

      /* ë³¸ë¬¸ ì»¨í…ì¸  ì˜ì—­ */
      .content {
        padding: 40px;
      }

      /* ê° ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
      .section {
        margin: 40px 0;
        padding: 30px;
        border-radius: 10px;
        background: #f8f9fa;
        border-left: 5px solid #667eea;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      }

      .section h2 {
        color: #333;
        font-size: 1.8em;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .section h3 {
        color: #555;
        font-size: 1.4em;
        margin: 25px 0 15px 0;
        border-bottom: 2px solid #667eea;
        padding-bottom: 8px;
      }

      .section h4 {
        color: #666;
        font-size: 1.2em;
        margin: 20px 0 10px 0;
      }

      /* ì½”ë“œ ë¸”ë¡ ìŠ¤íƒ€ì¼ */
      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        border-radius: 8px;
        padding: 20px;
        margin: 15px 0;
        overflow-x: auto;
        font-family: "Courier New", monospace;
        font-size: 14px;
        line-height: 1.5;
        border: 1px solid #4a5568;
      }

      .code-block .comment {
        color: #68d391;
        font-style: italic;
      }

      .code-block .keyword {
        color: #63b3ed;
        font-weight: bold;
      }

      .code-block .string {
        color: #feb2b2;
      }

      .code-block .number {
        color: #fbb6ce;
      }

      /* ê°•ì¡° ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
      .highlight-box {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
      }

      /* ì •ë³´ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
      .info-box {
        background: #e6fffa;
        border: 1px solid #81e6d9;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
      }

      /* ê²½ê³  ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
      .warning-box {
        background: #fed7d7;
        border: 1px solid #fc8181;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
      }

      /* ì„±ê³µ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
      .success-box {
        background: #c6f6d5;
        border: 1px solid #68d391;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
      }

      /* ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
      ul,
      ol {
        margin: 15px 0;
        padding-left: 30px;
      }

      li {
        margin: 8px 0;
      }

      /* íŒŒì¼ êµ¬ì¡° ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
      .file-structure {
        background: #f7fafc;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        padding: 20px;
        font-family: "Courier New", monospace;
        font-size: 14px;
        line-height: 1.8;
      }

      /* ë¹„êµ í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }

      .comparison-table th,
      .comparison-table td {
        border: 1px solid #e2e8f0;
        padding: 15px;
        text-align: left;
      }

      .comparison-table th {
        background: #667eea;
        color: white;
        font-weight: bold;
      }

      .comparison-table tr:nth-child(even) {
        background: #f7fafc;
      }

      /* í‘¸í„° ìŠ¤íƒ€ì¼ */
      .footer {
        background: #2d3748;
        color: white;
        text-align: center;
        padding: 30px;
        margin-top: 40px;
      }

      /* ì´ëª¨ì§€ í¬ê¸° */
      .emoji {
        font-size: 1.2em;
      }

      /* ì¸ë¼ì¸ ì½”ë“œ ìŠ¤íƒ€ì¼ */
      .code-inline {
        background: #edf2f7;
        padding: 2px 6px;
        border-radius: 4px;
        font-family: "Courier New", monospace;
        font-size: 0.9em;
      }

      /* ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ */
      @media (max-width: 768px) {
        .container {
          margin: 10px;
          border-radius: 10px;
        }

        .header {
          padding: 20px;
        }

        .header h1 {
          font-size: 2em;
        }

        .content {
          padding: 20px;
        }

        .section {
          padding: 20px;
        }
      }
    </style>
  </head>
  <body>
    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ ì‹œì‘ -->
    <div class="container">
      <!-- í—¤ë” ì˜ì—­: ì œëª© ë° ì„¤ëª… -->
      <div class="header">
        <h1>ğŸ” JWT ë¡œê·¸ì¸ ì‹œìŠ¤í…œ ì½”ë“œ ë¦¬ë·°</h1>
        <p>ìƒì„¸í•œ ì½”ë“œ ë¶„ì„ ë° ê°œì„  ì œì•ˆì‚¬í•­</p>
      </div>

      <div class="content">
        <!-- í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ëª… ì„¹ì…˜ -->
        <div class="section">
          <h2><span class="emoji">ğŸ“</span>í”„ë¡œì íŠ¸ êµ¬ì¡°</h2>
          <div class="file-structure">
            <!-- ê° íŒŒì¼ë³„ ì—­í•  ì£¼ì„ -->
            login/ â”œâ”€â”€ ğŸ“„ index.php <br /># ë¡œê·¸ì¸ í¼ (ë©”ì¸ í˜ì´ì§€) â”œâ”€â”€ ğŸ“„
            login.js
            <br />
            #í”„ë¡ íŠ¸ì—”ë“œ JavaScript (AJAX ì²˜ë¦¬) â”œâ”€â”€ ğŸ“„ login_ok.php <br />#
            ë°±ì—”ë“œ PHP (JWT í† í° ìƒì„±) â”œâ”€â”€ ğŸ“„ member.php <br /># íšŒì› ì „ìš©
            í˜ì´ì§€ (JWT í† í° ê²€ì¦) â”œâ”€â”€ ğŸ“„ logout.php <br />
            # ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬ â”œâ”€â”€ ğŸ“„ composer.json <br />
            # PHP ì˜ì¡´ì„± ê´€ë¦¬ â”œâ”€â”€ ğŸ“ vendor/ <br /># JWT ë¼ì´ë¸ŒëŸ¬ë¦¬
            (firebase/php-jwt) â”œâ”€â”€ ğŸ“„ text.html # ì‹œìŠ¤í…œ ì„¤ëª…ì„œ
          </div>
        </div>

        <!-- ê° íŒŒì¼ë³„ ìƒì„¸ ë¶„ì„ ì„¹ì…˜ -->
        <div class="section">
          <h2><span class="emoji">ğŸ”§</span>ê° íŒŒì¼ë³„ ìƒì„¸ ë¶„ì„</h2>

          <!-- index.php ì„¤ëª… -->
          <h3>1. index.php - ë¡œê·¸ì¸ í¼</h3>
          <div class="code-block">
            &lt;!-- index.php --&gt;<br />
            &lt;form action="login_ok.php" name="login_form" method="post"&gt;
            <br />
            &lt;input type="text" name="id" id="id" required&gt;
            <span class="comment">// ì•„ì´ë”” ì…ë ¥ í•„ë“œ</span><br />
            &lt;input type="password" name="pw" id="pw" required&gt;
            <span class="comment">// ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ</span><br />
            &lt;button id="login_btn" type="submit"&gt;ë¡œê·¸ì¸&lt;/button&gt;
            <span class="comment">// ë¡œê·¸ì¸ ë²„íŠ¼</span>
            <br />&lt;/form&gt;
          </div>

          <div class="success-box">
            <h4>âœ… ì¥ì :</h4>
            <ul>
              <li>ê°„ë‹¨í•˜ê³  ëª…í™•í•œ HTML êµ¬ì¡°</li>
              <li>ì ì ˆí•œ form validation (required ì†ì„±)</li>
              <li>JavaScript íŒŒì¼ ì—°ê²°</li>
            </ul>
          </div>

          <!-- login.js ì„¤ëª… -->
          <h3>2. login.js - í”„ë¡ íŠ¸ì—”ë“œ ë¡œì§</h3>
          <div class="code-block">
            <span class="comment">// login.js</span><br />
            btn.addEventListener("click", async (e) =&gt; { e.preventDefault();
            <span class="comment">// í¼ ê¸°ë³¸ ì œì¶œ ë°©ì§€</span><br />

            <span class="comment">// ì…ë ¥ê°’ ê²€ì¦ - ë¹ˆ ê°’ ì²´í¬</span><br />
            if (id.value == "" || pw.value == "") { alert("ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼
            ì…ë ¥í•´ì£¼ì„¸ìš”."); return false; }<br />

            <span class="comment"
              >// ì„œë²„ì— JSON í˜•íƒœë¡œ ë°ì´í„° ì „ì†¡ (AJAX ìš”ì²­)</span
            ><br />
            const res = await fetch("login_ok.php", { method: "POST", headers: {
            "Content-Type": "application/json" },<br />
            body: JSON.stringify({ id: id.value, pw: pw.value }) }); });
          </div>

          <div class="success-box">
            <h4>âœ… ì¥ì :</h4>
            <ul>
              <li>í˜„ëŒ€ì ì¸ async/await ì‚¬ìš©</li>
              <li>ì ì ˆí•œ ì…ë ¥ê°’ ê²€ì¦ (ë¹ˆ ê°’, ê¸¸ì´ ì²´í¬)</li>
              <li>ì—ëŸ¬ ì²˜ë¦¬ êµ¬í˜„</li>
              <li>JWT í† í° ì´ì¤‘ ì €ì¥ (localStorage + cookie)</li>
            </ul>
          </div>

          <!-- login_ok.php ì„¤ëª… -->
          <h3>3. login_ok.php - ë°±ì—”ë“œ ì¸ì¦</h3>
          <br />
          <div class="code-block">
            <span class="comment">// login_ok.php</span><br />
            if ($id == 'guest' && $pw == '1234') {
            <span class="comment">// í•˜ë“œì½”ë”©ëœ í…ŒìŠ¤íŠ¸ ê³„ì • ê²€ì¦</span><br />
            $key = 'your_secret_key';
            <span class="comment">// JWT ì„œëª…ìš© ë¹„ë°€í‚¤ (ë³´ì•ˆ ìœ„í—˜!)</span><br />
            $payload = [ 'id' =&gt; $id,
            <span class="comment">// ì‚¬ìš©ì IDë¥¼ í† í°ì— í¬í•¨</span><br />
            'exp' =&gt; time() + 3600
            <span class="comment">// 1ì‹œê°„ í›„ ë§Œë£Œ</span> ]; <br />$jwt =
            JWT::encode($payload, $key, 'HS256');
            <span class="comment">// JWT í† í° ìƒì„±</span><br />
            echo json_encode(['token' =&gt; $jwt]);
            <span class="comment">// JSON í˜•íƒœë¡œ í† í° ë°˜í™˜</span>
            }
          </div>

          <div class="success-box">
            <h4>âœ… ì¥ì :</h4>
            <ul>
              <li>JWT ë¼ì´ë¸ŒëŸ¬ë¦¬ ì ì ˆíˆ ì‚¬ìš©</li>
              <li>ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œê¹… êµ¬í˜„</li>
              <li>JSON ì‘ë‹µ í˜•ì‹ ì¼ê´€ì„±</li>
              <li>GET/POST ë°©ì‹ ëª¨ë‘ ì§€ì›</li>
            </ul>
          </div>

          <!-- member.php ì„¤ëª… -->
          <h3>4. member.php - íšŒì› í˜ì´ì§€</h3>
          <div class="code-block">
            <span class="comment">// member.php</span>
            $token = $_COOKIE['jwt'] ?? null;
            <span class="comment">// ì¿ í‚¤ì—ì„œ JWT í† í° ê°€ì ¸ì˜¤ê¸°</span><br />

            try { $key = 'your_secret_key';
            <span class="comment">// login_ok.phpì™€ ë™ì¼í•œ ë¹„ë°€í‚¤</span>
            $decoded = JWT::decode($token, new Key($key, 'HS256'));
            <span class="comment">// í† í° ê²€ì¦</span> <br />

            <span class="comment">// ë§Œë£Œ ì‹œê°„ í™•ì¸</span> <br />
            if (isset($decoded-&gt;exp) && $decoded-&gt;exp &lt; time()) {
            <span class="comment"
              >// í† í° ë§Œë£Œ ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</span
            ><br />
            echo "&lt;script&gt;alert('ë¡œê·¸ì¸ì´
            ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');&lt;/script&gt;"; exit; } <br />$user_id =
            $decoded-&gt;id;
            <span class="comment">// í† í°ì—ì„œ ì‚¬ìš©ì ID ì¶”ì¶œ</span><br />
            } catch (Exception $e) {
            <span class="comment"
              >// í† í°ì´ ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</span
            ><br />
            echo "&lt;script&gt;alert('ìœ íš¨í•˜ì§€ ì•Šì€
            í† í°ì…ë‹ˆë‹¤.');&lt;/script&gt;"; exit; }
          </div>

          <div class="success-box">
            <h4>âœ… ì¥ì :</h4>
            <ul>
              <li>JWT í† í° ê²€ì¦ ë¡œì§ êµ¬í˜„</li>
              <li>ë§Œë£Œ ì‹œê°„ í™•ì¸</li>
              <li>XSS ë°©ì§€ (htmlspecialchars ì‚¬ìš©)</li>
              <li>ì ì ˆí•œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì²˜ë¦¬</li>
            </ul>
          </div>

          <!-- logout.php ì„¤ëª… -->
          <h3>5. logout.php - ë¡œê·¸ì•„ì›ƒ</h3>
          <div class="code-block">
            <span class="comment">// logout.php</span>
            setcookie("jwt", "", time() - 3600, "/");
            <span class="comment">// ì¿ í‚¤ì—ì„œ JWT í† í° ì‚­ì œ</span>
          </div>

          <div class="success-box">
            <h4>âœ… ì¥ì :</h4>
            <ul>
              <li>ì¿ í‚¤ ì‚­ì œ ë¡œì§ êµ¬í˜„</li>
              <li>ì ì ˆí•œ ë¦¬ë‹¤ì´ë ‰íŠ¸</li>
            </ul>
          </div>
        </div>

        <!-- ë³´ì•ˆ ë¶„ì„ ì„¹ì…˜ -->
        <div class="section">
          <h2><span class="emoji">ğŸ›¡ï¸</span>ë³´ì•ˆ ë¶„ì„</h2>

          <div class="success-box">
            <h3>âœ… êµ¬í˜„ëœ ë³´ì•ˆ ê¸°ëŠ¥</h3>
            <ul>
              <li><strong>JWT ì„œëª… ê²€ì¦</strong> - HS256 ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©</li>
              <li><strong>í† í° ë§Œë£Œ ì‹œê°„</strong> - 1ì‹œê°„ í›„ ìë™ ë§Œë£Œ</li>
              <li><strong>XSS ë°©ì§€</strong> - htmlspecialchars ì‚¬ìš©</li>
              <li>
                <strong>ì…ë ¥ê°’ ê²€ì¦</strong> - í´ë¼ì´ì–¸íŠ¸/ì„œë²„ ì–‘ìª½ì—ì„œ ê²€ì¦
              </li>
            </ul>
          </div>

          <div class="warning-box">
            <h3>âš ï¸ ë³´ì•ˆ ì·¨ì•½ì </h3>
            <ul>
              <li><strong>í•˜ë“œì½”ë”©ëœ ë¹„ë°€í‚¤</strong> - í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬ í•„ìš”</li>
              <li><strong>í•˜ë“œì½”ë”©ëœ ê³„ì •</strong> - ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ í•„ìš”</li>
              <li><strong>ë¹„ë°€ë²ˆí˜¸ í‰ë¬¸ ì €ì¥</strong> - í•´ì‹± í•„ìš”</li>
              <li><strong>CSRF ë³´í˜¸ ì—†ìŒ</strong> - CSRF í† í° êµ¬í˜„ í•„ìš”</li>
              <li>
                <strong>í† í° ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì—†ìŒ</strong> - ë¡œê·¸ì•„ì›ƒ ì‹œ í† í° ë¬´íš¨í™”
                í•„ìš”
              </li>
            </ul>
          </div>
        </div>

        <!-- ì „ì²´ í‰ê°€ ì„¹ì…˜ -->
        <div class="section">
          <h2><span class="emoji">ğŸ¯</span>ì „ì²´ í‰ê°€</h2>

          <div class="success-box">
            <h3>âœ… ì˜ êµ¬í˜„ëœ ë¶€ë¶„:</h3>
            <ul>
              <li>JWT ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œì˜ ê¸°ë³¸ êµ¬ì¡°</li>
              <li>í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ê°„ í†µì‹  ë¡œì§</li>
              <li>í† í° ê¸°ë°˜ ì¸ì¦ì˜ í•µì‹¬ ê°œë… êµ¬í˜„</li>
              <li>ì½”ë“œ êµ¬ì¡°ì˜ ëª…í™•ì„±</li>
            </ul>
          </div>

          <div class="info-box">
            <h3>ë‹¤ìŒ ë‹¨ê³„:</h3>
            <ol>
              <li>ë³´ì•ˆ ì·¨ì•½ì  ìˆ˜ì •</li>
              <li>ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™</li>
              <li>ì‚¬ìš©ì ê´€ë¦¬ ê¸°ëŠ¥ ì¶”ê°€</li>
              <li>í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±</li>
            </ol>
          </div>
        </div>

        <!-- í•µì‹¬ ê°œì„ ì‚¬í•­ ìš”ì•½ ì„¹ì…˜ -->
        <div class="section">
          <h2><span class="emoji">ğŸ’¡</span>í•µì‹¬ ê°œì„ ì‚¬í•­ ìš”ì•½</h2>

          <div class="highlight-box">
            <h3>ğŸ” ë³´ì•ˆ ìš°ì„ ìˆœìœ„</h3>
            <ol>
              <li><strong>í™˜ê²½ë³€ìˆ˜ë¡œ ë¹„ë°€í‚¤ ê´€ë¦¬</strong> - í•˜ë“œì½”ë”© ì œê±°</li>
              <li><strong>ë¹„ë°€ë²ˆí˜¸ í•´ì‹±</strong> - password_hash() ì‚¬ìš©</li>
              <li><strong>CSRF í† í° êµ¬í˜„</strong> - ê³µê²© ë°©ì§€</li>
              <li><strong>ì…ë ¥ê°’ sanitization</strong> - XSS/ì¸ì ì…˜ ë°©ì§€</li>
              <li><strong>í† í° ë¸”ë™ë¦¬ìŠ¤íŠ¸</strong> - ë¡œê·¸ì•„ì›ƒ ì‹œ ë¬´íš¨í™”</li>
            </ol>
          </div>
        </div>
      </div>

      <!-- í‘¸í„° ì˜ì—­ -->
      <div class="footer">
        <h3>JWT ë¡œê·¸ì¸ ì‹œìŠ¤í…œ ì½”ë“œ ë¦¬ë·°</h3>
        <p>ìƒì„¸í•œ ì½”ë“œ ë¶„ì„ ë° ê°œì„  ì œì•ˆì‚¬í•­</p>
        <p>Â© 2024 - JSON Web Token ê¸°ë°˜ ë¡œê·¸ì¸ ì‹œìŠ¤í…œ</p>
      </div>
    </div>
    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ ë -->
  </body>
</html>
