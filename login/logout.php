<?php
/**
 * JWT 로그인 시스템 - 로그아웃 처리
 * 
 * 역할:
 * - JWT 토큰 무효화
 * - 클라이언트에서 토큰 제거
 * - 로그인 페이지로 리다이렉트
 */

// ===== 기존 세션 기반 로그아웃 (주석 처리) =====
/*
session_start();
session_unset();    // 모든 세션 변수 제거
session_destroy();   // 세션 완전 삭제
*/

// ===== JWT 토큰 기반 로그아웃 (새로운 방식) =====

// JWT 토큰 쿠키 삭제
// setcookie() 함수를 사용하여 쿠키 만료 시간을 과거로 설정
setcookie("jwt", "", time() - 3600, "/");

/**
 * setcookie() 매개변수 설명:
 * - "jwt": 쿠키 이름
 * - "": 빈 값으로 설정
 * - time() - 3600: 현재 시간에서 1시간을 뺀 시간 (즉시 만료)
 * - "/": 쿠키 경로 (전체 도메인에서 유효)
 */
?>

<script>
    alert('로그아웃 되었습니다.');
    self.location.href = 'index.php'; // 로그인 폼으로 이동
</script>

<?php

?>
